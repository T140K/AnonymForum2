@page
@using AnonymForum2.Models;
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
 


<h1>Välj en topic att läsa om</h1>
@*<table>
    <tbody>
        @foreach (var item in ViewData["Topics"] as List<Topic>)
        {

            <tr>
                <td>
                    <a style="text-decoration:underline; color: blue" asp-page="Post" asp-route-id="@item.Id">@Html.DisplayFor(modelItem => item.Name)</a>
                </td>
            </tr>
        }
    </tbody>
</table>*@

<div>
    <table>
    <tbody>
        @foreach (var item in ViewData["Topics"] as List<Topic>)
        {
            <tr>
            <td>
            <a 
                asp-page="Post" 
                asp-route-id="@item.Id" 
                asp-route-name="@item.Name"
                class="topic-link">
                    @item.Name
            </a>
            </td>
            </tr>
        }
    </tbody>
    </table>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var topicLinks = document.querySelectorAll(".topic-link");

        topicLinks.forEach(function (link) {
            link.addEventListener("click", function (e) {
                e.preventDefault(); // Prevent the default link behavior
                window.location.href = e.target.href; // Navigate to the clicked link's URL
            });
        });
    });
</script>